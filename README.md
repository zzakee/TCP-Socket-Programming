# TCP 客户端-服务器应用 README

本项目实现了一个基于TCP的客户端-服务器模型，支持数据包的发送、接收和数据反转。该应用主要演示如何在Python中使用TCP套接字进行网络通信，并展示了多线程在服务器端的实现，允许同时处理多个客户端请求。

## 功能介绍

#### 客户端功能

- 从文件中读取数据。
- 将数据根据指定的最小和最大长度随机分割，发送至服务器。
- 接收服务器反转后的数据并保存至输出文件。

#### 服务器功能

- 监听并接受来自客户端的连接。
- 接收客户端发送的数据包并根据数据类型处理。
- 将接收到的数据反转后发送回客户端。
- 使用多线程技术，支持多客户端同时连接。

## 运行环境

- **操作系统**：兼容 Windows, macOS, 和 Linux。
- **Python版本**：Python 3。
- **网络配置**：客户端与服务器间网络通畅，TCP端口未被防火墙或路由器阻挡。

## 配置选项

- **端口和IP配置**：默认情况下，服务器设置为在本地回环地址 `127.0.0.1` 上的 `12345` 端口监听。如需更改，可在 `server.py` 中调整 `HOST` 和 `PORT` 的值。
- **缓冲区大小**：默认接收缓冲区大小为1024字节。如需修改，可在客户端和服务器代码中调整 `Buffer_Size` 的值。
- **数据块大小范围**：客户端在发送数据前，会根据 `Lmin` 和 `Lmax` 参数随机分割数据。这些参数在客户端启动时通过命令行提供。

## 使用方法

1. **启动服务器**：

   - 打开命令行终端。

   - 转到包含 `server.py` 的目录。

   - 运行以下命令启动服务器：

     ```bash
     python server.py
     ```

   - 服务器将在默认的 `127.0.0.1:12345` 地址和端口上监听客户端的连接请求。

2. **启动客户端**：

   - 打开另一个命令行终端。

   - 转到包含 `client.py` 的目录。

   - 使用服务器的IP地址和端口号、左右边界作为参数，运行以下命令启动客户端：

     ```bash
     python client.py <server_ip> <server_port> <Lmin> <Lmax>
     ```

   - 替换 `<server_ip>` 和 `<server_port>` 为服务器的IP地址和端口号。

   - 替换 `<Lmin>` 和 `<Lmax>` 为期望的最小和最大数据块长度。

## 代码结构

- `client.py`：包含客户端逻辑的脚本。
- `server.py`：包含服务器逻辑的脚本。

## 注意事项

- 确保在防火墙和路由器设置中允许通过TCP端口。
- 在客户端脚本中正确指定服务器的IP地址和端口号。

